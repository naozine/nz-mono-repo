{{define "filter_selector.html"}}
<div>
    <label class="block text-sm font-medium text-gray-700 mb-2">
        フィルタ
    </label>
    <select name="filter" id="filter-select"
            class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">フィルタなし（全データ）</option>
        {{range .Filters}}
        <option value="{{.Name}}" data-description="{{.Description}}">
            {{.Name}}
        </option>
        {{end}}
    </select>

    <!-- フィルタ説明 -->
    <div id="filter-description" class="mt-2 text-sm text-gray-600" style="display:none;">
        <!-- フィルタ説明がここに表示される -->
    </div>

    <script>
        // フィルタ選択時に説明を表示
        document.getElementById('filter-select').addEventListener('change', function(e) {
            const selected = e.target.options[e.target.selectedIndex];
            const description = selected.dataset.description;
            const descElement = document.getElementById('filter-description');

            if (description && description !== '') {
                descElement.textContent = '条件: ' + description;
                descElement.style.display = 'block';
            } else {
                descElement.style.display = 'none';
            }
        });
    </script>
</div>
{{end}}
