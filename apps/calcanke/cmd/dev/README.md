# 開発用コマンド

このディレクトリには、Calcanke の機能をテスト・検証するための開発用コマンドが含まれています。

## 概要

これらのコマンドは以下の目的で使用されます：

- 新機能の開発時の動作確認
- 既存機能の回帰テスト
- データ分析の検証
- デバッグ・トラブルシューティング

## コマンド一覧

### 派生列関連

| コマンド | 説明 |
|---------|------|
| `test_derived` | 派生列の基本機能をテスト |
| `test_grade` | 学年計算（grade_from_birthdate）をテスト |
| `test_grade_area` | 学年とエリア分類のクロス集計をテスト |
| `test_cross_derived` | 派生列を使ったクロス集計をテスト |
| `test_shochuu` | 学校種別（school_type_from_birthdate）をテスト |

### フィルタ関連

| コマンド | 説明 |
|---------|------|
| `test_filter` | フィルタ機能をテスト |

### データ検証

| コマンド | 説明 |
|---------|------|
| `test_column` | 列情報の取得をテスト |
| `check_birthdate` | 生年月日データの整合性をチェック |

### 分析例

| コマンド | 説明 |
|---------|------|
| `analyze_city` | 市区町村データの分析 |
| `analyze_coverage` | データカバレッジの分析 |
| `test_city` | 市区町村の集計テスト |

## 使い方

各コマンドは `go run` で直接実行できます：

```bash
# 例：派生列のテスト
go run cmd/dev/test_derived/main.go

# 例：学校種別のテスト
go run cmd/dev/test_shochuu/main.go

# 例：フィルタのテスト
go run cmd/dev/test_filter/main.go
```

## 前提条件

- DuckDB データベース (`data/app.duckdb`) が存在すること
- テーブル `excel_import` にデータが読み込まれていること
- 派生列・フィルタの設定ファイルが `configs/` に存在すること

## メンテナンス

新機能を追加する際は、対応するテストコマンドもこのディレクトリに追加することを推奨します。

### 命名規則

- `test_*`: 特定機能の単体テスト
- `analyze_*`: データ分析・検証用
- `check_*`: データ整合性チェック

## 注意事項

これらのコマンドは開発・テスト用途であり、本番環境での使用は想定していません。本番用のコマンドは `cmd/calcanke/` を使用してください。
